<script src='//ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js'></script>
<script async type='text/javascript'>
  const FONTS = fonts,
    FontLoadStatus = {
      loaded: false,
      loadMap: Object.keys(FONTS).map(_font => ({
        [_font.split(':')[0]]: false
      })).reduce((a, b) => {
        return Object.assign({}, a, b)
      }),
      set setLoaded(_font) {
        this.loadMap[_font] = true
        this.loaded = Object.keys(FONTS).filter(_font => this.loadMap[_font.split(':')[0]]).length === Object.keys(FONTS).length ? true : false
        if (this.watcher && this.loaded)
          this.watcher()
      },
      watcher: null,
      onFontsLoad: function(watcher) {
        this.watcher = watcher
      }
    }

  let activeCallback = (_font, _) => {
      FontLoadStatus.setLoaded = _font
    },
    inactiveCallback = (_, __) => {
      setTimeout(load, 200)
    },
    families = Object.entries(FONTS).filter(_font => _font[1]).map(_font => ({
      families: [_font[0]],
      text: _font[1]
    })).concat(
      Object.entries(FONTS).filter(_font => !_font[1]).map(_font => _font[0]).length ? {
        families: Object.entries(FONTS).filter(_font => !_font[1]).map(_font => _font[0])
      } : []
    ),
    load = () => {
      families.forEach(family => {
        WebFont.load({
          google: family,
          classes: false,
          timeout: 8000,
          fontactive: activeCallback,
          fontinactive: inactiveCallback
        })
      })
    }

  load()
</script>